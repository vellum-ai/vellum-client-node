/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../index";
import * as Vellum from "../../api/index";
import * as core from "../../core";
import { WorkflowExecutionSpan } from "./WorkflowExecutionSpan";
import { NodeExecutionSpan } from "./NodeExecutionSpan";

export const VellumSpan: core.serialization.Schema<serializers.VellumSpan.Raw, Vellum.VellumSpan> = core.serialization
    .union("name", {
        "workflow.execution": WorkflowExecutionSpan,
        "node.execution": NodeExecutionSpan,
    })
    .transform<Vellum.VellumSpan>({
        transform: (value) => value,
        untransform: (value) => value,
    });

export declare namespace VellumSpan {
    export type Raw = VellumSpan.WorkflowExecution | VellumSpan.NodeExecution;

    export interface WorkflowExecution extends WorkflowExecutionSpan.Raw {
        name: "workflow.execution";
    }

    export interface NodeExecution extends NodeExecutionSpan.Raw {
        name: "node.execution";
    }
}
