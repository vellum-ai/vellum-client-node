/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../index";
import * as Vellum from "../../api/index";
import * as core from "../../core";
import { ExecutionVellumValue } from "./ExecutionVellumValue";
import { WorkflowError } from "./WorkflowError";
import { WorkflowExecutionActual } from "./WorkflowExecutionActual";
import { WorkflowExecutionViewOnlineEvalMetricResult } from "./WorkflowExecutionViewOnlineEvalMetricResult";
import { WorkflowExecutionUsageResult } from "./WorkflowExecutionUsageResult";
import { VellumSpan } from "./VellumSpan";

export const WorkflowEventExecutionRead: core.serialization.ObjectSchema<
    serializers.WorkflowEventExecutionRead.Raw,
    Vellum.WorkflowEventExecutionRead
> = core.serialization.object({
    spanId: core.serialization.property("span_id", core.serialization.string()),
    parentContext: core.serialization.property(
        "parent_context",
        core.serialization.lazyObject(() => serializers.WorkflowDeploymentParentContext).optionalNullable(),
    ),
    start: core.serialization.date(),
    end: core.serialization.date().optionalNullable(),
    inputs: core.serialization.list(ExecutionVellumValue),
    outputs: core.serialization.list(ExecutionVellumValue),
    error: WorkflowError.optionalNullable(),
    latestActual: core.serialization.property("latest_actual", WorkflowExecutionActual.optionalNullable()),
    metricResults: core.serialization.property(
        "metric_results",
        core.serialization.list(WorkflowExecutionViewOnlineEvalMetricResult),
    ),
    usageResults: core.serialization.property(
        "usage_results",
        core.serialization.list(WorkflowExecutionUsageResult).optionalNullable(),
    ),
    spans: core.serialization.list(VellumSpan),
    state: core.serialization.record(core.serialization.string(), core.serialization.unknown()).optionalNullable(),
});

export declare namespace WorkflowEventExecutionRead {
    export interface Raw {
        span_id: string;
        parent_context?: (serializers.WorkflowDeploymentParentContext.Raw | null) | null;
        start: string;
        end?: (string | null) | null;
        inputs: ExecutionVellumValue.Raw[];
        outputs: ExecutionVellumValue.Raw[];
        error?: (WorkflowError.Raw | null) | null;
        latest_actual?: (WorkflowExecutionActual.Raw | null) | null;
        metric_results: WorkflowExecutionViewOnlineEvalMetricResult.Raw[];
        usage_results?: (WorkflowExecutionUsageResult.Raw[] | null) | null;
        spans: VellumSpan.Raw[];
        state?: (Record<string, unknown> | null) | null;
    }
}
